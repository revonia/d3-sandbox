(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{171:function(t,e,n){},279:function(t,e,n){"use strict";var r=n(171);n.n(r).a},284:function(t,e,n){},298:function(t,e,n){"use strict";var r,a=n(221),s=(n(223),n(224),n(236)),i=(n(225),n(226)),o=n(278),c=n.n(o),l={name:"NarratorStage",props:{scene:{type:String,default:null}},data:function(){return{lastScene:null}},watch:{scene:function(t,e){this.ee&&(null!==e&&(this.ee.emit("exit",e),this.lastScene=e),null!==t&&this.ee.emit("enter",t))}},created:function(){this.ee=null,this.$options.beforeDestroy||(this.$options.beforeDestroy=[])},mounted:(r=Object(i.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$frontmatter.stage,n=this.$themeConfig.stagePromises,!e||!n[e]){t.next=8;break}return this.ee=new c.a,t.next=6,n[e];case 6:t.sent.default(this.$refs.root,this.ee);case 8:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},u=n(8),d=Object(u.a)(l,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"root"})},[],!1,null,null,null).exports,v=Symbol("narratorPage"),f={name:"NarratorPage",components:{NarratorStage:d},extends:s.a,data:function(){return{currentScene:null}},mounted:function(){var t=this;this.$on("scene-block-transit",function(e){var n=e.scene,r=e.enter;t.currentScene=r?n:null})},provide:function(){return Object(a.a)({},v,this)}};n(279);n.d(e,"b",function(){return v});var h=Object(u.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"page"},[n("div",{staticClass:"narrator-container"},[n("Content",{staticClass:"theme-default-content"}),t._v(" "),n("div",{staticClass:"narrator-scene-box"},[n("div",{staticClass:"narrator-scene"},[n("NarratorStage",{attrs:{scene:t.currentScene}})],1)])],1),t._v(" "),n("footer",{staticClass:"page-edit"},[t.editLink?n("div",{staticClass:"edit-link"},[n("a",{attrs:{href:t.editLink,target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(t.editLinkText))]),t._v(" "),n("OutboundLink")],1):t._e(),t._v(" "),t.lastUpdated?n("div",{staticClass:"last-updated"},[n("span",{staticClass:"prefix"},[t._v(t._s(t.lastUpdatedText)+": ")]),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(t.lastUpdated))])]):t._e()]),t._v(" "),t.prev||t.next?n("div",{staticClass:"page-nav"},[n("p",{staticClass:"inner"},[t.prev?n("span",{staticClass:"prev"},[t._v("\n        ←\n        "),t.prev?n("router-link",{staticClass:"prev",attrs:{to:t.prev.path}},[t._v("\n          "+t._s(t.prev.title||t.prev.path)+"\n        ")]):t._e()],1):t._e(),t._v(" "),t.next?n("span",{staticClass:"next"},[t.next?n("router-link",{attrs:{to:t.next.path}},[t._v("\n          "+t._s(t.next.title||t.next.path)+"\n        ")]):t._e(),t._v("\n        →\n      ")],1):t._e()])]):t._e(),t._v(" "),t._t("bottom")],2)},[],!1,null,"bf8704ea",null);e.a=h.exports},421:function(t,e,n){"use strict";var r=n(284);n.n(r).a},482:function(t,e,n){"use strict";n.r(e);n(227),n(418);var r=n(299),a=(n(54),n(191),n(197),n(223),n(224),n(298)),s=n(419),i=Symbol("sceneBlockListen"),o=new Map,c=Object(s.debounce)(function(){var t=document.querySelector("header"),e=t?t.offsetHeight:0,n=!0,a=!1,s=void 0;try{for(var i,c=o[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){(0,Object(r.a)(i.value,2)[1])(e)}}catch(t){a=!0,s=t}finally{try{n||null==c.return||c.return()}finally{if(a)throw s}}});var l={name:"SceneBlock",inject:{narratorPage:a.b},props:{name:{required:!0,type:String},vh:{type:Number,default:null}},data:function(){return{entered:!1}},computed:{style:function(){return this.vh?{minHeight:this.vh+"vh"}:null}},mounted:function(){var t,e;t=this.name,e=this.updateState,!0!==document[i]&&(document.addEventListener("scroll",c),document[i]=!0),o.set(t,e)},beforeDestroy:function(){var t;t=this.name,o.delete(t),0===o.size&&(document.removeEventListener("scroll",c),document[i]=!1)},methods:{updateState:function(t){if(this.narratorPage){var e=this.$refs.block.getBoundingClientRect(),n=e.top,r=e.bottom-t>0&&n-t<0;r!==this.entered&&(this.entered=r,this.narratorPage.$emit("scene-block-transit",{scene:this.name,enter:r}))}}}},u=(n(421),n(8)),d=Object(u.a)(l,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"block",staticClass:"scene-block",style:this.style,attrs:{"data-scene-block-name":this.name}},[this._t("default")],2)},[],!1,null,null,null);e.default=d.exports}}]);