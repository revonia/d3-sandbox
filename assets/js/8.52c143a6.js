(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{150:function(e,t,a){},339:function(e,t,a){"use strict";var r=a(150);a.n(r).a},393:function(e,t,a){"use strict";a.r(t);a(136),a(289),a(290),a(198);var r=a(199),n=(a(96),a(304),a(305),a(312)),s=(a(183),a(338),a(223));a(182),a(135);function i(e,t,a){var r=e.document;return new Promise(function(n,s){switch(t){case"javascript":var i=r.createElement("script");i.type="application/javascript",i.appendChild(r.createTextNode(a)),r.head.appendChild(i),n();break;case"css":var c=r.createElement("style");c.innerHTML=a,r.head.appendChild(c),n();break;case"html":r.body.innerHTML=a,n();break;case"dataset":var u=r.createElement("script");u.type="application/json",u.id="dataset",u.appendChild(r.createTextNode(a)),r.head.appendChild(u),n();break;case"config":(function(e,t){return o.apply(this,arguments)})(e,a).then(n,s)}})}function o(){return(o=Object(r.a)(regeneratorRuntime.mark(function e(t,a){var r,n,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.document,a){e.next=3;break}return e.abrupt("return");case 3:if(!Array.isArray(a.js)){e.next=11;break}n=regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.createElement("script"),s=new Promise(function(e){n.onload=e}),n.type="application/javascript",n.src=a.js[t],r.head.append(n),e.next=7,s;case 7:case"end":return e.stop()}},e)}),s=0;case 6:if(!(s<a.js.length)){e.next=11;break}return e.delegateYield(n(s),"t0",8);case 8:s++,e.next=6;break;case 11:if(!Array.isArray(a.css)){e.next=19;break}i=regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.createElement("link"),s=new Promise(function(e){n.onload=e}),n.rel="stylesheet",n.type="text/css",n.href=a.css[t],r.head.append(n),e.next=8,s;case 8:case"end":return e.stop()}},e)}),s=0;case 14:if(!(s<a.css.length)){e.next=19;break}return e.delegateYield(i(s),"t1",16);case 16:s++,e.next=14;break;case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(e,t){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(regeneratorRuntime.mark(function e(t,a){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=["config","css","html","json","javascript"],(n=Object(s.a)(a)).sort(function(e,t){return r.indexOf(e.type)-r.indexOf(t.type)}),o=0;case 4:if(!(o<n.length)){e.next=10;break}return e.next=7,i(t,n[o].type,n[o].content);case 7:o++,e.next=4;break;case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var l='javascript: \'\n<!DOCTYPE html>\n<html lang="">\n<head>\n  <meta charset="UTF-8">\n  <title>Preview</title>\n</head>\n<body>\n</body>\n</html>\''.replace(/\n/g,""),d={name:"ScriptEditor",components:{},props:{tabs:{type:Array,default:function(){return[{name:"javascript",selector:"@pre.language-js > code",language:"javascript"},{name:"css",selector:"@pre.language-css > code",language:"css"},{name:"html",selector:"@pre.language-html > code",language:"html"},{name:"dataset.json",selector:"@pre.language-json > code",language:"javascript",type:"dataset"},{name:"config.yaml",selector:"@pre.language-yaml > code",language:"yaml",type:"config"}]}},previewFirst:{type:Boolean,default:!0},initialHeight:{type:String,default:"300px"}},data:function(){return{tabData:new Map,editor:null,currentTab:"",sourcesLoaded:!1,showPreview:!1,showEditor:!1,loading:!1,innerHeight:null}},computed:{height:function(){return null===this.innerHeight?this.initialHeight:this.innerHeight}},created:function(){this.$options.beforeDestroy||(this.$options.beforeDestroy=[])},mounted:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadSources(),this.loading=!0,e.next=4,Promise.all([a.e(0),a.e(3),a.e(11)]).then(a.bind(null,390));case 4:t=e.sent,this.renderEditor(t),this.previewFirst?this.preview():this.changeTab(this.tabs[0].name);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{getTabData:function(e){return this.tabData.has(e)||this.tabData.set(e,{source:null,state:null,model:null}),this.tabData.get(e)},loadSources:function(){var e=this,t=this.$refs.sourceContainer;this.tabs.forEach(function(a){var r=a.selector&&"@"===a.selector[0]?t.querySelector(a.selector.substr(1)):document.querySelector(a.selector);r&&(e.getTabData(a.name).source=r.textContent)}),this.sourcesLoaded=!0},renderEditor:function(e){var t=this,a=e.monaco;if(!this.editor){this.loading=!0;var r=this.$refs.editor;this.editor=a.editor.create(r,{theme:"vs-dark",minimap:{enabled:!1}}),this.tabs.forEach(function(e){var r=e.name,n=t.getTabData(r);n.model=a.editor.createModel(n.source,e.language)}),this.editor.setModel(this.getTabData(this.currentTab).model),this.$options.beforeDestroy.push(function(){t.editor.dispose()}),this.loading=!1}},changeTab:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}return this.showEditor=!1,this.currentTab="",e.abrupt("return");case 4:return this.currentTab&&(this.getTabData(this.currentTab).state=this.editor.saveViewState()),this.currentTab=t,a=this.getTabData(t),this.editor.setModel(a.model),null!==a.state&&this.editor.restoreViewState(a.state),this.showEditor=!0,this.showPreview=!1,e.next=13,this.$nextTick();case 13:this.editor.focus(),this.editor.layout(),this.loading=!1;case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),preview:function(){var e=this;this.loading=!0;for(var t=this.$refs.previewBox;t.firstChild;)t.removeChild(t.firstChild);var a=document.createElement("iframe"),s=this.tabs.map(function(t){var a=e.getTabData(t.name).model.getValue();return"yaml"===t.language&&(a=n.safeLoad(a)),{content:a,type:t.type||t.language}});a.onload=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(a.contentWindow,s);case 2:e.loading=!1;case 3:case"end":return t.stop()}},t)})),a.src=l,t.appendChild(a),this.showPreview=!0,this.changeTab("")}}},h=(a(339),a(3)),p=Object(h.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"script-editor"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.sourcesLoaded,expression:"sourcesLoaded"}],staticClass:"main-container"},[a("div",{staticClass:"toolbar"},[a("ul",{staticClass:"actions"},[a("li",[a("button",{staticClass:"btn tab-btn",class:{active:e.showPreview},attrs:{type:"button"},on:{click:e.preview}},[e._v("\n            Run & Preview\n          ")])]),e._l(e.tabs,function(t){return a("li",{key:t.name},[a("button",{staticClass:"tab-btn btn",class:{active:e.currentTab===t.name},attrs:{type:"button"},on:{click:function(a){return e.changeTab(t.name)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])])})],2)]),e._v(" "),a("div",{staticClass:"box",style:{height:e.height}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showEditor,expression:"showEditor"}],staticClass:"editor-container"},[a("div",{ref:"editor",staticClass:"editor"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPreview,expression:"showPreview"}],staticClass:"preview-container"},[a("div",{ref:"previewBox",staticClass:"preview-box"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loading"},[a("div",{staticClass:"loading-text"},[e._v("\n          Loading...\n        ")])])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.sourcesLoaded,expression:"!sourcesLoaded"}],ref:"sourceContainer",staticClass:"source-container"},[e._t("default")],2)])},[],!1,null,null,null);t.default=p.exports}}]);